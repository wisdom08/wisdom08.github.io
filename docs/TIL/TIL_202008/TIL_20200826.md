---
title: TIL_20200826
permalink: /docs/til_20200826
parent: TIL_202008
grand_parent: TIL
has_children: false
nav_order: 25
---

# Facts

- 주차장 프로젝트 완성한 걸 localhost가 아닌 192.168.xx 대역으로 호스트해서 같은 와이파이를 쓰고 있는 스마트폰으로도 프로젝트를 확인하려고 시도했는데 계속 접속이 안되어서 구글링한 결과로 이것저것 시도해봤는데 실패 했습니다. 원인은 제가 무선 LAN 어댑터 WIFI에 있는 IPv4 주소로 시도를 했었어야했는데, 그 위에 있는 이더넷 어댑터 이더넷3로 시도를 계속하고 있었습니다.
  ![](/assets/images/ip.PNG)

# Feelings

- ip주소 체계에 대한 이해도의 부족을 크게 느꼈습니다.

# Finding

## IP 주소체계와 클래스 구별법

### **IP란?**

- IP주소는 각각의 Host들을 구분하기 위한 것이며, IP를 부여받은 동안에는 자신만의 고유 IP가 되기에 다른 사람이 사용 할 수 없다.
- 하지만 현재 사용되는 IPv4방식의 IP수는 한정되어 있기에 모든 Host에게 고유의 IP를 할당하지 못하고 유동 IP라는 개념을 이용한다.
- 즉, PC에서 전원이 꺼져있음에도 불구하고 IP 주소를 할당받고 있으면 IP 부족현상이 나타나기에 DHCP Server를 이용하여 전원이 켜져있는 컴퓨터에게만 IP를 할당하며, 컴퓨터가 Off되면 IP를 회수하게 된다.

### **IP 구조**

- IP Address는 32bit(4byte) 길이로 구성된 논리적인 주소체계로서 형태는 xxx.xxx.xxx.xxx로 표기한다.
- **xxx**.xxx.xxx.xxx에서 **.(dot)로 구분된 Octet 4개**가 있고 각 xxx부분은 모두 **8비트**로 구성되어있고 **0~255**값을 가질 수 있게 된다.
- 즉, 각 자리마다 0~255값을 가지니 256개가 되며 256*256*256\*256 = 4,294,967,296인데 현재 약 43억개로는 전세계 디바이스에 IP를 할당하기에 턱없이 부족하다는 것이다.
- 즉, 실제 IP는 2진수 00000000.00000000.00000000.00000000와 같이 표현되어 사람이 이해하기 어렵기에 10진수로 나타내는 표기법을 사용한다.
- IP주소의 이러한 표기법은 **dot-decimal notice** 또는 **dotted-quad sequence** 라고 부른다.

### **IP 주소의 NetworkID와 HostID**

- **하나의 IP주소에는 Network ID와 Host ID**가 존재한다.
- Network ID는 예를들면 전세계 Host들을 관리하기 힘드니 각 국가마다 Network ID를 부여할 수 있는것이다. 그럼 네트워크 아이디가 같으면 어떤 국가인지 알 수 있게 된다.
- 그리고 Host ID는 호스트들을 개별적으로 관리하기 위해 사용하게 된 것이다. 즉, 국가의 국민에 해당한다.
- 따라서 우리가 인터넷을 사용할 때 Routing으로 목적지를 알아내고 찾아가기 위해서는 **NetworkID와 HostID가 합쳐진 IP주소**를 보게 된다.
- 이제 배울 Subnet Mask는 이러한 Network ID를 늘리거나 줄일 수 있고, Host ID는 Network ID와 반대로 줄이거나 늘릴 수 있다.
- 라우터끼리의 통신에서는 IP를 사용하기에 Network ID와 Host ID보고 목적지가 어떤 네트워크에 속하는지 알 수 있게 된다.

### **IP Class 개념**

- Network ID와 Host ID를 설명드린 이유는 바로 IP Class의 개념을 알기 이전에 필요한 내용이다.
- **IP Class의 경우 A, B, C, D, E Class로 나누어 Network ID와 Host ID를 구분**하게 된다.
- **A Class**의 경우 처음 8bit(1byte)가 **Network ID**이며, 나머지 24bit(3byte)가 **Host ID**로 사용된다. 비트가 0으로 시작하기에 네트워크 할당은 0~127입니다 . 즉, 128 곳에 가능하며, 최대 호스트 수는 16,777,214개이다.
- **B Class**의 경우 처음 16bit(2byte)가 **Network ID**이며, 나머지 16bit(2byte)가 **Host ID**로 사용된다. 비트가 10으로 시작하기에 네트워크 할당은 16,384 곳에 가능하며, 최대 호스트 수는 65,534개이다.
- **C Class**의 경우 처음 24bit(3byte)가 **Network ID**이며, 나머지 8bit(1byte)가 **Host ID**로 사용된다. 비트가 110으로 시작하기에 네트워크 할당은 2,097,152 곳에 가능하며, 최대 호스트 수는 254개이다.

![](/assets/images/IP02.PNG)

- 즉, **A클래스**는 비트가 0으로 시작하고 첫번째 부분만 차지하니 2^(2\*4-1) = 128이고(0~127)

**B클래스**는 비트가 10으로 시작하고 두번째 부분까지 차지하니 2^(4\*4-2) = 16,384이고(128~191)

**C클래스**는 비트가 110으로 시작하고 세번째 부분까지 차지하니 2^(6\*4-3) = 2,097,152이다(192~223) D, E클래스는 비트가 1110, 1111 0으로 시작한다.(224~239, 240~255)

### **Class 구분하는 방법**

- 각각의 Class를 구분하는 방법은 간단하게 제일 첫 번째 옥텟(Octet)으로 구분하실 수 있다. Octet은 위에서도 잠깐 언급이 된 내용으로 2진수 8개(8bit)를 묶음으로 표현하는 것을 Octet이라 한다.
- 만약 IP가 164.58.94.125라고 할 때 첫 번째 Octet은 164가 되는 것이다.
- IP 주소에서 쓸 수 있는 숫자의 범위는 0~255로 되어 있기에 첫 번째 Octet에서 0~255까지의 숫자를 5개로 나누어서 A, B, C, D, E Class로 구분 되는 것이다.
  - **A Class** : 0 ~ 127 (0.0.0.0 ~ 127.255.255.255)
  - **B Class** : 128 ~ 191 (128.0.0.0 ~ 191.255.255.255)
  - **C Class** : 192 ~ 223 (192.0.0.0 ~ 233.255.255.255)
  - **D Class** : 224 ~ 239 (224.0.0.0 ~ 239.255.255.255)
  - **E Class** : 240 ~ 255 (240.0.0.0. ~ 255.255.255.255)
- 이때 왜 B클래스가 128~191인지 보자. 비트가 10으로 시작하고 첫번째 옥텟만 보면 된다. 즉, 1000 0000(128) ~ 1011 1111(191)이다.
