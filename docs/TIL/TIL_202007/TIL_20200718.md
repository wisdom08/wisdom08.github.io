---
title: TIL_20200718
permalink: /docs/til_20200718
parent: TIL_202007
grand_parent: TIL
has_children: false
nav_order: 10
---

# Facts

- 자바 웹프로그래밍 Next Step 책으로 하루종일 공부했습니다.
- 잠깐 TCP/UDP에 대해서 공부했습니다.

# Feelings

- 어제 서블릿과 JSP 개념들을 나름대로 좀 자세히 공부해서 자바웹프그래밍 5장 서블릿 컨테이너와 서블릿의 관계와 6장 서블릿/JSP를 활용해 동적인 웹 애플리케이션 개발하기 파트가 쉽게 느껴지지 않을까 하는 자신감이 좀 붙었었는데 아니었습니다. 정말 양파같은 책이네요. 까도 까도 끝이 없는 느낌입니다. 여전히 어려워서 슬프네요. 역시 개념과 실전은 다릅니다. 그래도 정말 다행인 건 제일 처음 이 책을 공부 할 때 보다는 보이는 게 더 많습니다. 다른 사람이 이 책의 어떤 부분이든 물어봤을 때 다 알려줄 수 있을 정도 만큼 이 책을 빠른 시일 내에 정복 하고 싶습니다.

- 백엔드 개발자라면 네트워크는 기본이라고 합니다. 매일 이동시간이나 자기 전에 네트워크 책을 읽고 있습니다. 그리고 시간을 따로 내서 중요한 것들을 기록 하면서 정리도 하고 있습니다. 근데 아직까지는 크게 필요성은 못느끼겠습니다. 그래도 기본이라고 말하는 이유가 분명히 있을 것 입니다. 내평개치지 말고 꾸준히 하겠습니다.

# Finding

## TCP/UDP

### TCP가 연결을 생성하는 방법: 3 way handshake

![](/assets/images/tcp1.png)

1. SYN 비트를 1로 설정해 패킷 송신
2. SYN, ACK 비트를 1로 설정해 패킷 송신
3. ACK 비트를 1로 설정해 패킷 송신

### 비교

TCP와 UDP는 많은 차이점과 유사점이 있다. 둘 다 인터넷 세상에서 패킷을 보내는데 주로 사용된다는 점에서는 유사하다. 또한 전송계층에서 열심히 움직이면서 일한다. TCP가 UDP보다 먼저 생겨난 개념이다. TCP는 신뢰성이라는 매우 큰 장점을 가지고 있지만 이 신뢰성을 유지하는 데 많은 시간을 필요로 한다. 이러한 단점으로 신뢰성은 부족하지만 빠른 UDP가 생겨났다. 이에 대해서 구체적으로 알아보자.

TCP는 connection-oriented 프로토콜이고 UDP는 connection-less 프로토콜이다. TCP는 데이터를 보내기 전에 수신자와 송신자 간에 connection을 만들지만 UDP는 데이터를 보내기 전에 connection을 만들지 않는다. 위 과정으로, TCP 프로토콜을 이용해서 전송 된 데이터는 connection을 기반으로 수신자는 오차없이 데이터를 받을 수 있게 된다. 혹시라도 데이터가 유실된다면 다시 그 데이터를 되찾고 재전송한다. TCP프로토콜은 시간은 전혀 고려하지 않고 완전한 데이터를 전송하는데 초점을 맞추고 움직인다. 또한 TCP는 에러체크도 하고, 패킷에 이상한 부분이 없는지 계속 추적한다. 그에반해 UDP는 믿을 수 없는 프로토콜이다. 데이터 보내면 끝이다. 다른 부분은 관여하지 않는다.

이번에는 Flow control에 대해서 비교해보겠다. TCP는 데이터를 버퍼라는 임시 공간에 저장해놓고 적절한 데이터양만을 주고 받을 수 있게 도와준다. 그에 반해 UDP는 쉴 새 없다.

그리고 TCP는 "좋은 아침이야" 라는 패킷을 보낸다면 똑같은 순서로 보낼 수 있게끔 하지만 UPD의 경우 어떤 순서든 상관없다. TCP가 항상 우월한 것처럼 느껴지기도 하지만 UDP의 가장 큰 장점으로 인해 UDP도 많이 이용된다. 그건 바로 속도다. TCP보다 훨씬 빠르다.

각각 뚜렷한 장단점을 가지고 있다. TCP는 시간보다는 신뢰성이 훨씬 중요할 때 이용된다. 예를들어, 인터넷뱅킹, WEB(HTTP,HTTPS)이나, SSH, FTP, Eamil에서 적절하다. 대두분 양방향 통신 및 데이터의 신뢰성이 중요할 때이다. 웹서버 또한 이러한 이유로 TCP 방식을 이용한다.

UDP는 효율성있는 움직임과 빠른 속도라는 장점을 가지고 있다. 그래서 스트리밍 서비스, 게임, DNS, Voip에서 이용하는 것이 적절하다.

![](/assets/images/tcp2.png)

### UDP는 신뢰할 수 없는 프로토콜일까?

과연 UDP는 빠른 속도빼고는 TCP에 비해서 많이 떨어질 것인가? 그건 아닌 것 같다. TCP와 비교하면 신뢰성이 떨어지는 건 사실이지만 정말 방대한 데이터가 아니라면 신뢰성에 있어서는 그렇게 크게 차이나지 않는다고 한다. 문제가 되는 것은 '**패킷의 순서**'이다. 하지만 애플리케이션에 따라서 패킷의 순서는 크게 중요하지 않을 수 있다. 따라서 UDP를 신뢰할 수 없는 프로토콜이라고 단정짓기에는 꽤 괜찮은 프로토콜처럼 보인다.

[How unreliable is UDP?](https://www.openmymind.net/How-Unreliable-Is-UDP/)

![](/assets/images/tcp3.png)
