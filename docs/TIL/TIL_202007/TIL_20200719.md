---
title: TIL_20200719
permalink: /docs/til_20200719
parent: TIL_202007
grand_parent: TIL
has_children: false
nav_order: 11
---

# Facts

- DAO와 DTO의 개념을 알아봤습니다.
- HTTP Redirection에 대해서 공부했습니다.

# Feelings

- 일요일에는 온전히 코딩만 집중을 하기가 쉽지 않네요. 일요일 점심 먹기 전까지는 평소와 똑같이 7시에 일어나자마자 학원으로 갑니다. 그 주에 계획했지만 못했던 것을 보충도 하고, 했던 것을 다시 정리하고 복습하면서 재정비하는 시간을 가지고 있습니다. 그리고 현재까지는 오후 1시 이후부터 쉬고 있는데 오후에는 좀 쉬더라도 평일과의 흐름을 맞추기 위해서 일요일 저녁에도 코딩할 수 있는 환경을 만들어 봐야겠습니다.

# Finding

## DAO/DTO?

### DAO: 데이터에 접근하기 위한 객체

- Data Access Object의 약자로 간단히 Database의 data에 접근을 위한 객체
- Database에 접근을 하기위한 로직과 비즈니스 로직을 분리하기 위해서 사용
- 웹서버는 DB와 연결하기 위해서 매번 커넥션 객체를 생성하는데, 이것을 해결하기 위해 나온것이 커넥션 풀.
- ConnectionPool 이란 connection 객체를 미리 만들어 놓고 그것을 가져다 쓰는 것.
- 또 다쓰고 난 후에는 반환해 놓는 것.
- 커넥션을 하나만 가져오고 그 커넥션을 가져온 객체가 모든 DB와의 연결을 하는것이 바로 DAO 객체이다

### DTO: 데이터가 어떻게 생겼는지 정리되어 있는 객체

- 계층 간(Controller, View, Business Layer, Persistent Layer) 데이터 교환을 위한 자바빈즈
- 일반적인 DTO는 로직을 갖고 있지 않는 순수한 데이터 객체이며 속성과 그 속성에 접근하기 위한 getter, setter 메소드만 가진 클래스
- VO는 DTO와 동일한 개념이지만 read only 속성을 가짐

## HTTP Redirection

### 302 Found 응답 코드를 이용

- 아래 사진은 사용자 요청 대한 HTTP/1.1 302 Found 메시지 전송 과정이다. 자바 웹 프로그래밍 책에서는 예제사이트에서 회원가입 완료 후 홈 화면으로 보낸다. 이 때 redirection을 활용한다. 그래서 좀 더 자세히 알아보고 싶어서 찾아봤다. 예전에 yahoo.com으로 사이트 접속을 시도하면 자동으로 주소에 kr이 붙어서 kr.yahoo.com 이라는 서버로 접속했다고 한다. 이유가 뭘까.

![](/assets/images/redirection.png)

- HTTP 메시지의 데이터는 네트워크 통신과정에서 많은 프로토콜에 의해 통제된다.
- HTTP가 고려하는 것은 오직 출발지(송신자)와 목적지(수신자) 뿐이지만, 미러링된 서버, 웹 프락시, 캐시 등 역시도 고려되어야 하므로 항상 단순하지만은 않다.
- 리다이렉션 기술은 HTTP 메시지의 최종 목적지를 정하는것과 관련되어있고, 보통 메시지가 프락시,캐시, 서버팜의 특정 웹서버 중 어디에서 끝나는지 판별하기 위해 사용한다.
- 리다이렉션 기술은 클라이언트의 메시지를 명시적으로 요청하지 않은 곳으로 보낼 수 있다.

### 리다이렉션을 하는 이유

- HTTP 애플리케이션은 언제나 아래 세가지를 원하기 때문에 리다이렉션은 현대의 웹에서는 불가피하다.

- 신뢰할 수 있는 HTTP 트랜잭션의 수행
- 지연 최소화
- 네트워크 대역폭 절약
- 위와 같은 이유들 때문에, 웹 콘텐츠는 흔히 여러장소에 배포하게 된다.

### 리이렉션의 효과

- 한곳에서 실패한 경우 다른 곳을 이용할 수 있으므로 신뢰성이 개선된다.
- 클라이언트가 보다 가까운 리소스에 접근할 수 있게 되어 응답시간도 줄여준다.
- 목적지 서버가 분산되므로 네트워크 혼잡도도 줄어들게 된다.
- 이렇게 리다이렉션이란 최적의 분산된 콘텐츠를 찾는 것을 도와주는 기법의 집합이라고 할 수 있다.

```
리다이렉션 구현에는 load-balancing(부하 균형)의 과제가 포함되는데, 왜냐하면 둘은 서로 공존하기 떄문이다.
(대부분의 리다이렉션 장치들은 몇가지 방식의 부하 균형을 포함)
```

### 리다이렉션이 필요한 곳

- 도메인 앨리어싱
- 링크 유지하기
- 안전하지 않은 요청에 대한 일시적인 응답
- 긴 요청에 대한 일시적인 응답
- 그 외 서버, 프락시, 캐시, 게이트웨이가 모두 공통적으로 서버의 특성을 가지고 있기 때문에 많은 리다이렉션 기법이 그들 모두에서 동작하게 된다.
- 그러나 어떤 리다이렉션 기술들은 특정 종류의 종단만을 위해 특별히 설계되어 일반적인 적용이 불가능. -복제된 서버들로 요청을 분산한다는 것은 같은 URL에 대해 여러 곳에서 온 요청들을 각각 최적의 웹 서버로 보내겠다는 것(클라이언트에 가장 가까운 것이나 부하가 가장 적은 것, 혹은 그외의 이유로 최적인 것)을 의미하게 된다.
- 프락시는 프로토콜별로 요청을 다루게 된다. 클라이언트 근처에 프락시 캐시가 있다면, 모든 요청이 프락시 캐시로 흘러 들어가는 것이 이상적이다. 프락시로의 리다이렉트는 주 진입로의 트래픽을 지름길로 보내는것과 같다.
